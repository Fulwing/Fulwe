<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
   <head>
      <!-- Required meta tags -->
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Cart Page | Fulwe</title>
      <!-- Favicon -->
      <link rel="icon" type="image/x-icon" th:href="@{/img/favicon.ico}">
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" th:href="@{/plugins/bootstrap/css/bootstrap.min.css}">
      <!-- Linearicon Font -->
      <link rel="stylesheet" th:href="@{/plugins/linearicon/css/lnr-icon.css}">
      <!-- FontAwesome Free Font -->
      <link rel="stylesheet" th:href="@{/plugins/fontawesome/css/font-awesome.min.css}">
      <!-- Custom CSS -->
      <link rel="stylesheet" th:href="@{/css/style.css}">
      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
      <script src="assets/js/html5shiv.min.js"></script>
      <script src="assets/js/respond.min.js"></script>
      <![endif]-->
      <style>
         .cropped-image {
            width: 150px; /* Set the desired width */
            height: 120px; /* Set the desired height */
            object-fit: cover; /* Maintain aspect ratio and cover container */
            object-position: center center; /* Center the image */
         }

         .top-footer{
            margin-top: 177px;
         }
      </style>
   </head>
   <body>
   <!-- Inner Wrapper -->
   <div class="inner-wrapper">
      <!-- Header -->
      <header>
            <!-- Top Header Section -->
            <!-- /Top Header Section -->

            <!-- Main header Section -->
            <div class="main-header-section">
               <div class="container">
                  <div class="row align-items-center">
                     <div class="col-12">
                        <!-- Main Menu -->
                        <div class="main-menu menu-section w-100 d-inline-block d-md-block">
                                 <!-- offcanvas menu -->
                                 <div id="offcanvas_menu">
                                    <span class="lnr lnr-cross float-left display-6 position-absolute t-1 l-1 text-white" id="close_navSidebar"></span>
                                    <div class="user-info align-center bg-theme text-center">
                                       <a href="javascript:;" class="d-block menu-style text-white">
                                          <div class="user-avatar d-inline-block mr-3">
                                             <img src="assets/img/owner-avatar-img.jpg" alt="user avatar" class="rounded-circle">
                                          </div>
                                          <div class="user-info d-inline-block align-middle">
                                             <ul>
                                                <li>Steve Bell</li>
                                             </ul>
                                          </div>
                                       </a>
                                    </div>
                                    <div class="user-menu-items p-3 m-0 text-left">
                                       <a class="d-block pb-3" href="user-profile.html">
                                       <span class="lnr lnr-user mr-3"></span>
                                       <span class="text-truncate">Profile</span>
                                       </a>
                                       <a class="d-block pb-3" href="user-dashboard.html">
                                       <span class="lnr lnr-pie-chart mr-3"></span>
                                       <span class="text-truncate">Dashboard</span>
                                       </a>
                                       <a class="d-block pb-3" href="user-settings.html">
                                       <span class="lnr lnr-cog mr-3"></span>
                                       <span class="text-truncate">Settings</span>
                                       </a>
                                       <a class="d-block pb-3" href="user-notifications.html">
                                       <span class="lnr lnr-alarm mr-3"></span>
                                       <span class="text-truncate">Notifications</span>
                                       <span class="bg-theme d-inline-block text-white float-right px-3 py-0 radius-5 ">5</span>
                                       </a>
                                       <a class="d-block pb-3" href="cart-page.html">
                                       <span class="lnr lnr-cart mr-3"></span>
                                       <span class="text-truncate">Cart</span>
                                       <span class="bg-theme d-inline-block text-white float-right px-3 py-0 radius-5 ">3</span>
                                       </a>                    
                                       <a class="d-block p-0" href="index.html">
                                       <span class="lnr lnr-power-switch mr-3"></span>
                                       <span class="text-truncate">Logout</span>
                                       </a>
                                    </div>
                                 </div>
                                 <!-- /offcanvas menu -->

                                 <!-- Navbar menu-->
                           <nav th:replace="index/index::navbar" class="navbar navbar-expand-lg p-0">

                           </nav>
                                 <!-- /Navbar menu-->
                              </div>
                        <!-- /Main Menu -->
                     </div>
                  </div>
               </div>
            </div>
            <!-- /Main Header Section -->
         </header>
         <!-- /Header -->
         <!-- Header Banner Section -->
         <section class="slider-wrapper py-5">
            <div class="container">
               <div class="row">
                  <div class="col-12 text-center">
                     <div class="inner-banner-heading py-0 py-md-3 py-lg-5">
                        <h1 class="text-white">Cart</h1>
                     </div>
                  </div>
               </div>
            </div>
         </section>
         <!-- /Header Banner Section -->
         <!-- Bread crumb -->
         <div class="breadcrumb-wrapper bg-theme py-2">
            <div class="container">
               <div class="row">
                  <div class="col-md-12">
                     <div class="custom-breadcrumb">
                        <ol class="breadcrumb no-bg-color p-0 m-0">
                           <li class="breadcrumb-item d-inline-block"><a th:href="@{/}" class="text-theme-secondary">Home</a></li>
                           <li class="breadcrumb-item d-inline-block active">Cart</li>
                        </ol>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <!-- /Bread crumb -->  

         <!-- Cart Page -->  
         <section class="user-profile-wrapper py-5">
            <div class="container">
               <div class="row">
                  <div class="col-12 col-lg-7">
                     <div class="card shadow">
                        <div class="card-header bg-white p-4 d-none d-md-block">
                           <div class="row">
                              <div class="col-md-8">
                                 <h4 class="card-title mb-0 text-capitalize">Product Details</h4>
                              </div>
                              <div class="col-md-2 text-center">
                                 <h4 class="card-title mb-0 text-capitalize">Price</h4>
                              </div>
                              <div class="col-md-2 text-center">
                                 <h4 class="card-title mb-0 text-capitalize">Trash</h4>
                              </div>
                           </div>
                        </div>

<!--                        Item Loop Start-->
                        <div th:if="${not #lists.isEmpty(items)}" th:each="item, eee: ${items}">
                        <hr class="m-0">
                        <div class="card-body p-4">
                           <div class="cart-item-list clearfix">
                              <div class="row align-items-center">
                                 <div class="col-lg-8 col-md-8">
                                    <div class="cart-item-desc xs-text-center">
                                       <img th:src="'data:image/jpeg;base64,' + ${pictures[eee.index]}" alt="Item Image" class="cropped-image">
                                       <div class="cart-item-info d-inline-block align-middle pl-0 pl-md-3 py-3 py-md-0 xs-text-center">
                                          <h5><a th:href="@{/shop/item/{itemId}(itemId=${item.getItemId()})}" class="text-link"><strong>[[${item.getItemName()}]]</strong></a></h5>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-lg-2 col-md-2 p-0 text-center">
                                    <div class="cart-item-price-wrapper">
                                       <div class="cart-item-price d-inline-block display-5">
                                          <span class=""><i class="fa fa-dollar"></i>&nbsp;[[${item.getItemPrice()}]]</span>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-lg-2 col-md-2 mt-4 mt-md-0 text-center">
                                    <a th:href="@{/shop/deletecartitem/{itemId}/{cusId}(itemId=${item.getItemId()},cusId=${cusid})}" class=""><span class="lnr lnr-trash text-theme display-5"></span></a>

                                 </div>
                              </div>
                           </div>
                        </div>
                        </div>
<!--                        Item Loop end-->

                     </div>
                  </div>
                  <div class="col-12 col-lg-5">
                     <!-- Order Summary -->
                     <div class="card shadow mb-0 mt-4 mt-lg-0">
                        <div class="card-header bg-white p-4">
                           <h4 class="card-title mb-0 text-capitalize">Order Summary</h4>
                        </div>
                        <div class="card-body p-0">
                           <div class="table-responsive">
                              <table class="table mb-0">
                                 <tbody>
                                    <tr>
                                       <td class="text-grey text-capitalize p-4 border-top-0">
                                          Sub Total
                                       </td>
                                       <td class="text-right p-4 border-top-0">$[[${subtotal}]]</td>
                                    </tr>
                                    <tr>
                                       <td class="text-grey p-4 text-capitalize">
                                          Estimated Taxes & Fees:
                                       </td>
                                       <td class="text-right p-4">$[[${fee}]]</td>
                                    </tr>
                                    <tr class="ord-sum-total">
                                       <td class="display-6 p-4">
                                          <b>Total</b>
                                       </td>
                                       <td class="text-right p-4 display-6"><b>$[[${total}]]</b></td>
                                    </tr>
                                 </tbody>
                              </table>
                              <hr class="m-0">
                              <!-- Select Payment Menthod -->     
                              <div class="checkout-btn p-2 p-md-4 float-left d-inline-block">
                                 <a href="wishlist-grid-view.html" class="d-inline-block py-3 text-theme-secondary"><i class="lnr lnr-chevron-left mr-2"></i>Back to Wishlist</a>
                              </div>
                              <div class="checkout-btn p-2 p-md-4 float-right d-inline-block">
                                 <a href="checkout.html" class="d-inline-block btn btn-md btn-style py-3 px-4 radius-5 text-white">Checkout</a>
                              </div>
                           </div>
                        </div>
                     </div>
                     <!-- /Order Summary -->                        
                  </div>
               </div>
            </div>
         </section>
         <!-- /Cart Page -->
         <!-- Footer -->
         <footer th:replace="index/index::footer">
         </footer>
         <!-- /Footer -->
         </div>
      <!-- Inner Wrapper -->
      <!-- The Login Modal -->
      <div class="modal login-modal-blk" id="myLogin">
         <div class="modal-dialog">
            <div class="modal-content">
               <!-- Modal Header -->
               <div class="modal-header d-block text-center p-2 p-sm-5">
                  <h3 class="modal-title">Welcome Back</h3>
                  <h5 class="mt-2 mr-0">You can sign in with your User Name</h5>
                  <button type="button" class="close position-absolute t-1 r-1" data-dismiss="modal">&times;</button>
               </div>
               <!-- Modal body -->
               <div class="modal-body p-4 p-sm-5">
                  <form>
                     <div class="form-group mb-4">
                        <label for="usr">User Name</label>
                        <input type="text" class="form-control bg-input" id="usr" placeholder="Enter your User Name...">
                     </div>
                     <div class="form-group mb-4">
                        <label for="pwd">Password</label>
                        <input type="password" class="form-control bg-input" id="pwd" placeholder="Enter your Password...">
                     </div>
                     <div class="form-group mb-4">
                        <div class="custom-control custom-checkbox">
                           <input type="checkbox" class="custom-control-input" id="customCheck" name="example1">
                           <label class="pl-2 custom-control-label" for="customCheck">Remember me</label>
                        </div>
                     </div>
                     <div class="form-group mb-0">
                        <a href="loggedin.html" class="btn btn-md btn-theme text-white py-2 px-4 py-sm-3 px-sm-5  text-capitalize shadow-theme-lg">Login Now</a>
                     </div>
                  </form>
               </div>
               <div class="custom-legend-blk position-relative text-center"><span class="text-theme">OR</span></div>
               <!-- Modal footer -->
               <div class="modal-footer d-block position-relative border-0 p-4 p-sm-5 text-center">
                  <h5>Sign in with a simple click</h5>
                  <ul class="list-unstyled list-inline social-login-blk ml-0 mt-3 mt-sm-4">
                     <li class="list-inline-item">
                        <div class="card bg-fb text-white py-2 px-4 text-center"><a href="javascript:;"><i class="fa fa-facebook"></i><span class="pl-2 d-none d-sm-inline-block">Facebook</span></a></div>
                     </li>
                     <li class="list-inline-item">
                        <div class="card bg-gplus text-white py-2 px-4 text-center"><a href="javascript:;"><i class="fa fa-google-plus"></i><span class="pl-2 d-none d-sm-inline-block">Google+</span></a></div>
                     </li>
                     <li class="list-inline-item">
                        <div class="card bg-twitter text-white py-2 px-4 text-center"><a href="javascript:;"><i class="fa fa-twitter"></i><span class="pl-2 d-none d-sm-inline-block">Twitter</span></a></div>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <!-- The Register Modal -->
      <div class="modal login-modal-blk" id="myRegister">
         <div class="modal-dialog">
            <div class="modal-content">
               <!-- Modal Header -->
               <div class="modal-header d-block text-center p-2 p-sm-5">
                  <h3 class="modal-title text-capitalize">create your account</h3>
                  <h5 class="mt-2">Please fill the following fields with appropriate information to register a new account.</h5>
                  <button type="button" class="close position-absolute t-1 r-1" data-dismiss="modal">&times;</button>
               </div>
               <!-- Modal body -->
               <div class="modal-body p-2 p-sm-5">
                  <form>
                     <div class="form-group mb-4">
                        <label for="name">Your Name</label>
                        <input type="text" class="form-control bg-input" id="name" placeholder="Enter your name...">
                     </div>
                     <div class="form-group mb-4">
                        <label for="email">Email Address</label>
                        <input type="email" class="form-control bg-input" id="email" placeholder="Enter your email address...">
                     </div>
                     <div class="form-group mb-4">
                        <label for="usr1">User Name</label>
                        <input type="text" class="form-control bg-input" id="usr1" placeholder="Enter your User Name...">
                     </div>
                     <div class="form-group mb-4">
                        <label for="pwdd">Password</label>
                        <input type="password" class="form-control bg-input" id="pwdd" placeholder="Enter your password...">
                     </div>
                     <div class="form-group mb-4">
                        <label for="pwd-confirm">Confirm Password</label>
                        <input type="password" class="form-control bg-input" id="pwd-confirm" placeholder="Enter your password...">
                     </div>
                     <div class="form-group mb-4">
                        <a href="javascript:;" data-toggle="modal" data-dismiss="modal" data-target="#myLogin" class="btn btn-md btn-theme text-white py-2 px-4 py-sm-3 px-sm-5  text-capitalize shadow-theme-lg">Register Now</a>
                     </div>
                     <ul class="list-unstyled list-inline ml-0 mt-4">
                        <li class="list-inline-item">
                           <div class="text-left text">
                              <p>Already have an account? <a href="javascript;" data-dismiss="modal" data-toggle="modal" data-target="#myLogin" class="">Login</a></p>
                           </div>
                        </li>
                     </ul>
                  </form>
               </div>
            </div>
         </div>
      </div>
      <!-- Optional JavaScript -->
      <!-- jQuery -->
      <script th:src="@{/js/jquery.min.js}"></script>
      <!-- Bootstrap Core JS -->
      <script th:src="@{/js/popper.min.js}"></script>
      <script th:src="@{/plugins/bootstrap/js/bootstrap.min.js}"></script>
      <!-- Custom JS -->
      <script th:src="@{/js/script.js}"></script>
   </body>
</html>